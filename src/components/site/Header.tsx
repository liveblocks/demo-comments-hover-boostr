"use client";

import styles from "./Header.module.css";
import { useSelf } from "@liveblocks/react/suspense";
import { Avatar } from "@/components/comments/ToolbarAvatars";
import { ClientSideSuspense } from "@liveblocks/react";

export function Header() {
  return (
    <header className={styles.Header}>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="124"
        height="33"
        viewBox="0 0 124 33"
        fill="none"
      >
        <path
          d="M22.6992 21.599C22.6992 24.8441 21.5741 27.4498 19.3283 29.4206C17.443 31.0716 15.2939 31.8949 12.8812 31.8949C11.3869 31.8949 10.0553 31.5708 8.8819 30.9183C8.16994 30.5285 7.50632 29.9329 6.89105 29.1271V31.273H0V0H6.89545V13.8651C7.63377 13.1031 8.35452 12.5556 9.05329 12.2228C10.2663 11.6403 11.5671 11.3469 12.9471 11.3469C15.3203 11.3469 17.421 12.1308 19.2492 13.6986C21.5521 15.665 22.7036 18.3014 22.7036 21.599M15.5356 21.6209C15.5356 20.548 15.1796 19.5976 14.4721 18.7612C13.5975 17.732 12.4768 17.2153 11.1145 17.2153C9.88831 17.2153 8.84674 17.6445 7.98536 18.4984C7.12398 19.3524 6.69328 20.3947 6.69328 21.6165C6.69328 22.8384 7.12398 23.8807 7.98536 24.7346C8.84674 25.5886 9.8927 26.0178 11.1145 26.0178C12.49 26.0178 13.6107 25.5054 14.4721 24.4719C15.184 23.6223 15.5356 22.672 15.5356 21.6122"
          fill="#FE5000"
        />
        <path
          d="M48.1845 21.6122C48.1845 24.2923 47.2968 26.5871 45.5213 28.5053C43.3678 30.8351 40.3574 32.0044 36.4856 32.0044C32.6138 32.0044 29.5814 30.8395 27.4323 28.5053C25.6568 26.5915 24.769 24.2398 24.769 21.4458C24.769 18.9364 25.6612 16.7073 27.4543 14.7628C29.6209 12.4199 32.7017 11.2462 36.6965 11.2462C40.3706 11.2462 43.3063 12.4199 45.4993 14.7628C47.288 16.6766 48.1802 18.9627 48.1802 21.6122M41.0122 21.6122C41.0122 20.3553 40.5684 19.2955 39.685 18.424C38.8016 17.5525 37.7337 17.1189 36.4812 17.1189C35.0617 17.1189 33.9102 17.6488 33.0181 18.7086C32.2929 19.5582 31.9326 20.5305 31.9326 21.6165C31.9326 22.7026 32.2929 23.6924 33.0181 24.5463C33.9102 25.6061 35.0617 26.136 36.4812 26.136C37.7469 26.136 38.8192 25.7025 39.6938 24.8266C40.5684 23.9551 41.0078 22.8866 41.0078 21.6165"
          fill="#FE5000"
        />
        <path
          d="M73.6701 21.6122C73.6701 24.2923 72.7824 26.5871 71.0069 28.5053C68.8534 30.8351 65.843 32.0044 61.9712 32.0044C58.0994 32.0044 55.0669 30.8395 52.9179 28.5053C51.1424 26.5915 50.2546 24.2398 50.2546 21.4458C50.2546 18.9364 51.1468 16.7073 52.9399 14.7628C55.1065 12.4199 58.1873 11.2462 62.1821 11.2462C65.8562 11.2462 68.7919 12.4199 70.9849 14.7628C72.7736 16.6766 73.6701 18.9627 73.6701 21.6122ZM66.5022 21.6122C66.5022 20.3553 66.0583 19.2955 65.175 18.424C64.2916 17.5525 63.2237 17.1189 61.9712 17.1189C60.5517 17.1189 59.4002 17.6488 58.5081 18.7086C57.7829 19.5582 57.4226 20.5305 57.4226 21.6165C57.4226 22.7026 57.7829 23.6924 58.5081 24.5463C59.4002 25.6061 60.5517 26.136 61.9712 26.136C63.2369 26.136 64.3092 25.7025 65.1838 24.8266C66.0584 23.9551 66.4978 22.8866 66.4978 21.6165"
          fill="#FE5000"
        />
        <path
          d="M91.2713 24.7522C91.2713 26.8061 90.5286 28.4878 89.0475 29.7885C87.3863 31.2599 85.0439 31.9957 82.0246 31.9957C79.357 31.9957 76.7641 31.2556 74.2502 29.7666L76.7465 24.9361C78.711 26.2149 80.5392 26.8499 82.2224 26.8499C83.6595 26.8499 84.3759 26.355 84.3759 25.3697C84.3759 24.8573 84.1254 24.4588 83.6244 24.1829C83.3035 24.0033 82.5784 23.7887 81.4489 23.5391C80.1788 23.2632 79.3482 23.0486 78.9615 22.8953C77.5683 22.3567 76.6278 21.5115 76.14 20.3597C75.8763 19.7378 75.7445 18.989 75.7445 18.1131C75.7445 16.4227 76.3246 14.9468 77.4848 13.6856C78.9791 12.0652 81.2863 11.255 84.4022 11.255C86.5689 11.255 88.6696 11.671 90.7132 12.5031L88.3883 16.9175C87.105 16.2519 85.8833 15.919 84.7143 15.919C83.3343 15.919 82.6443 16.3964 82.6443 17.3467C82.6443 17.7803 82.9212 18.1306 83.4793 18.3977C83.7298 18.5247 84.4682 18.7087 85.6943 18.9583C87.4918 19.3349 88.8146 19.9305 89.6672 20.7495C90.7395 21.7742 91.2757 23.1099 91.2757 24.7478"
          fill="#FE5000"
        />
        <path
          d="M106.381 17.5525H102.461V31.2687H95.5651V17.5525H93.3018V11.9513H95.5651V6.14429H102.461V11.9513H106.381V17.5525Z"
          fill="#FE5000"
        />
        <path
          d="M123.507 18.2356C122.545 17.7758 121.569 17.548 120.58 17.548C118.321 17.548 116.858 18.4721 116.19 20.3158C115.939 20.9815 115.812 21.8749 115.812 23.0004V31.2642H108.917V11.9512H115.812V15.1175C116.537 13.992 117.315 13.1818 118.154 12.6826C119.284 12.0169 120.62 11.6841 122.167 11.6841C122.527 11.6841 122.975 11.706 123.503 11.7454V18.24L123.507 18.2356Z"
          fill="#FE5000"
        />
      </svg>
      <ClientSideSuspense fallback={null}>
        <MyAvatar />
      </ClientSideSuspense>
    </header>
  );
}

function MyAvatar() {
  const self = useSelf();
  return (
    <div className={styles.AvatarWrapper}>
      <Avatar src={self.info.avatar} name={self.info.name} />
    </div>
  );
}
